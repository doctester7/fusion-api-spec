{
  "swagger" : "2.0",
  "info" : {
    "version" : "v1",
    "title" : "API Reference"
  },
  "paths" : {
    "/v1.0/authenticate/requestChallenge" : {
      "post" : {
        "operationId" : "requestChallenge",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/RequestChallengePayload"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/ResponseEntity"
            }
          }
        }
      }
    },
    "/v1.0/authenticate/verifyChallenge" : {
      "post" : {
        "operationId" : "verifyChallenge",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/VerifyChallengePayload"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/ResponseEntity"
            }
          }
        }
      }
    },
    "/v1.0/sdk/initiate" : {
      "post" : {
        "operationId" : "initiate",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/InitiateAuthenticationChallengeRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/InitiateAuthenticationChallengeResponse"
            }
          }
        }
      }
    },
    "/v1.0/sdk/verify" : {
      "post" : {
        "operationId" : "verify",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/VerifyAuthenticationChallengeRequest"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/VerifyAuthenticationChallengeResponse"
            }
          }
        }
      }
    },
    "/v1.0/tenants/{tenantID}/authentications" : {
      "post" : {
        "operationId" : "getAuthenticationObject",
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "required" : false,
          "schema" : {
            "$ref" : "#/definitions/GetAuthenticationsRequest"
          }
        }, {
          "name" : "tenantID",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/GetAuthenticationsResponse"
            }
          }
        }
      }
    },
    "/v1.0/tenants/{tenantID}/cards/{cardGuid}/authentications/{requestID}" : {
      "get" : {
        "operationId" : "getAuthenticationObject",
        "parameters" : [ {
          "name" : "cardGuid",
          "in" : "path",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "requestID",
          "in" : "path",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "tenantID",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "successful operation",
            "schema" : {
              "$ref" : "#/definitions/CipherAuthenticationObject"
            }
          }
        }
      }
    }
  },
  "definitions" : {
    "AgentInfo" : {
      "type" : "object",
      "properties" : {
        "geoLocation" : {
          "$ref" : "#/definitions/GeoLocation"
        },
        "ipv4" : {
          "type" : "string"
        },
        "ipv6" : {
          "type" : "string"
        },
        "userAgent" : {
          "type" : "string"
        }
      }
    },
    "AuthFactor" : {
      "type" : "object",
      "properties" : {
        "factorNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "alternativeIdentities" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "$ref" : "#/definitions/IdentityWithConfig"
          }
        },
        "authTypes" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        }
      }
    },
    "AuthPlan" : {
      "type" : "object",
      "properties" : {
        "authPlanId" : {
          "type" : "integer",
          "format" : "int32"
        },
        "factors" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/AuthFactor"
          }
        }
      }
    },
    "AuthenticationFactorInfo" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "authenticationID" : {
          "type" : "string"
        },
        "authPlanID" : {
          "type" : "integer",
          "format" : "int32"
        },
        "factorNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "idpSessionInfo" : {
          "$ref" : "#/definitions/IdentityProviderSessionInfo"
        },
        "identityID" : {
          "type" : "integer",
          "format" : "int32"
        },
        "identityType" : {
          "type" : "string"
        },
        "identityValue" : {
          "type" : "string"
        },
        "agentInfo" : {
          "$ref" : "#/definitions/AgentInfo"
        },
        "result" : {
          "$ref" : "#/definitions/Result"
        },
        "createdAt" : {
          "type" : "string",
          "format" : "date-time"
        },
        "sessionID" : {
          "type" : "string"
        }
      }
    },
    "AuthenticationInfo" : {
      "type" : "object"
    },
    "AuthenticationSessionInfo" : {
      "type" : "object",
      "properties" : {
        "sessionID" : {
          "type" : "string"
        },
        "scopes" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "type" : "string"
          }
        },
        "authPlans" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/AuthPlan"
          }
        },
        "connectorURL" : {
          "type" : "string"
        }
      }
    },
    "AuthenticationSubjectInfo" : {
      "type" : "object",
      "properties" : {
        "domainID" : {
          "type" : "string"
        },
        "profileID" : {
          "type" : "string"
        }
      }
    },
    "CardMetaData" : {
      "type" : "object",
      "properties" : {
        "maskedPan" : {
          "type" : "string"
        },
        "cardNetwork" : {
          "type" : "string"
        },
        "bin" : {
          "type" : "string"
        },
        "productID" : {
          "type" : "string"
        }
      }
    },
    "CipherAuthenticationObject" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "requestID" : {
          "type" : "string"
        },
        "cardGuid" : {
          "type" : "string"
        },
        "tenantID" : {
          "type" : "string"
        },
        "authenticationProvider" : {
          "type" : "string"
        },
        "authenticationSessionInfo" : {
          "$ref" : "#/definitions/AuthenticationSessionInfo"
        },
        "authenticationSubjectInfo" : {
          "$ref" : "#/definitions/AuthenticationSubjectInfo"
        },
        "value" : {
          "$ref" : "#/definitions/Money"
        },
        "merchantInfo" : {
          "$ref" : "#/definitions/MerchantInfo"
        },
        "validTill" : {
          "type" : "integer",
          "format" : "int64"
        },
        "state" : {
          "type" : "string",
          "enum" : [ "PENDING", "FAILED", "CANCELLED", "EXPIRED", "SUCCESS", "INITIATED" ]
        },
        "failureReason" : {
          "$ref" : "#/definitions/FailureReason"
        },
        "resourcePublicKeyCert" : {
          "type" : "string"
        },
        "authenticationFactorsInfo" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/AuthenticationFactorInfo"
          }
        },
        "initiatorAgentInfo" : {
          "$ref" : "#/definitions/AgentInfo"
        },
        "cardInfo" : {
          "$ref" : "#/definitions/CardMetaData"
        },
        "createdAt" : {
          "type" : "string"
        }
      }
    },
    "FailureReason" : {
      "type" : "object",
      "properties" : {
        "reason" : {
          "type" : "string"
        },
        "code" : {
          "type" : "string"
        },
        "errorName" : {
          "type" : "string"
        },
        "exception" : {
          "$ref" : "#/definitions/Throwable"
        }
      }
    },
    "Filters" : {
      "type" : "object",
      "properties" : {
        "cardGuid" : {
          "type" : "string"
        },
        "startTimeInMs" : {
          "type" : "integer",
          "format" : "int64"
        },
        "endTimeInMs" : {
          "type" : "integer",
          "format" : "int64"
        }
      }
    },
    "GeoLocation" : {
      "type" : "object",
      "properties" : {
        "latitude" : {
          "type" : "string"
        },
        "longitude" : {
          "type" : "string"
        }
      }
    },
    "GetAuthenticationsRequest" : {
      "type" : "object",
      "required" : [ "order" ],
      "properties" : {
        "pageSize" : {
          "type" : "integer",
          "format" : "int32",
          "maximum" : 50
        },
        "filters" : {
          "$ref" : "#/definitions/Filters"
        },
        "pageNumber" : {
          "type" : "integer",
          "format" : "int32",
          "minimum" : 1
        },
        "order" : {
          "type" : "string",
          "enum" : [ "LATEST_FIRST", "EARLIEST_FIRST" ]
        }
      }
    },
    "GetAuthenticationsResponse" : {
      "type" : "object",
      "properties" : {
        "authenticationInfoList" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/AuthenticationInfo"
          }
        },
        "hasNext" : {
          "type" : "boolean"
        },
        "pageNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "pageSize" : {
          "type" : "integer",
          "format" : "int32"
        }
      }
    },
    "Identity" : {
      "type" : "object",
      "properties" : {
        "identityType" : {
          "type" : "string"
        },
        "value" : {
          "type" : "string"
        }
      }
    },
    "IdentityProviderSessionInfo" : {
      "type" : "object",
      "properties" : {
        "sessionID" : {
          "type" : "string"
        }
      }
    },
    "IdentityWithConfig" : {
      "type" : "object",
      "properties" : {
        "identityId" : {
          "type" : "integer",
          "format" : "int32"
        },
        "identityType" : {
          "type" : "string"
        },
        "identityValue" : {
          "type" : "string"
        }
      }
    },
    "InitiateAuthenticationChallengeRequest" : {
      "type" : "object",
      "required" : [ "authProfileID", "domainID", "publicKey", "relyingIdentity", "scopes", "sdkID", "tenantID", "uaInfo" ],
      "properties" : {
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "tenantID" : {
          "type" : "string"
        },
        "authProfileID" : {
          "type" : "string"
        },
        "sdkID" : {
          "type" : "string"
        },
        "domainID" : {
          "type" : "string"
        },
        "relyingIdentity" : {
          "$ref" : "#/definitions/Identity"
        },
        "uaInfo" : {
          "type" : "string"
        },
        "scopes" : {
          "type" : "array",
          "uniqueItems" : true,
          "items" : {
            "type" : "string"
          }
        },
        "publicKey" : {
          "$ref" : "#/definitions/PublicKeyContainer"
        },
        "signatoryJID" : {
          "$ref" : "#/definitions/JID"
        },
        "zetaSignature" : {
          "$ref" : "#/definitions/ZetaSignature"
        },
        "payloadVersion" : {
          "type" : "integer",
          "format" : "int32"
        },
        "signed" : {
          "type" : "boolean"
        },
        "signature" : {
          "type" : "string"
        }
      }
    },
    "InitiateAuthenticationChallengeResponse" : {
      "type" : "object",
      "properties" : {
        "sessionID" : {
          "type" : "string"
        }
      }
    },
    "JID" : {
      "type" : "object",
      "properties" : {
        "appDomain" : {
          "type" : "string"
        },
        "serviceName" : {
          "type" : "string"
        },
        "nodeId" : {
          "type" : "string"
        },
        "resource" : {
          "type" : "string"
        },
        "primaryServiceName" : {
          "type" : "string"
        },
        "serviceViewName" : {
          "type" : "string"
        },
        "bareJID" : {
          "$ref" : "#/definitions/JID"
        },
        "serviceViewJID" : {
          "type" : "boolean"
        },
        "defaultServiceNode" : {
          "type" : "boolean"
        },
        "serviceInstanceJID" : {
          "type" : "boolean"
        },
        "jidOfAGroup" : {
          "type" : "boolean"
        },
        "proxyServiceJID" : {
          "type" : "boolean"
        }
      }
    },
    "MerchantInfo" : {
      "type" : "object",
      "properties" : {
        "mid" : {
          "type" : "string"
        },
        "aid" : {
          "type" : "string"
        },
        "tid" : {
          "type" : "string"
        },
        "merchantName" : {
          "type" : "string"
        },
        "curatedMerchantName" : {
          "type" : "string"
        },
        "mcc" : {
          "type" : "string"
        }
      }
    },
    "Money" : {
      "type" : "object",
      "properties" : {
        "currency" : {
          "type" : "string"
        },
        "amount" : {
          "type" : "integer",
          "format" : "int64"
        }
      }
    },
    "PublicKeyContainer" : {
      "type" : "object",
      "properties" : {
        "encodedKey" : {
          "type" : "string"
        },
        "algorithm" : {
          "type" : "string"
        }
      }
    },
    "RequestChallengePayload" : {
      "type" : "object",
      "required" : [ "authContextID", "authPlanID", "factorNumber" ],
      "properties" : {
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "authPlanID" : {
          "type" : "integer",
          "format" : "int32"
        },
        "factorNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "authContextID" : {
          "type" : "string"
        },
        "signatoryJID" : {
          "$ref" : "#/definitions/JID"
        },
        "zetaSignature" : {
          "$ref" : "#/definitions/ZetaSignature"
        },
        "payloadVersion" : {
          "type" : "integer",
          "format" : "int32"
        },
        "signed" : {
          "type" : "boolean"
        },
        "signature" : {
          "type" : "string"
        }
      }
    },
    "ResponseEntity" : {
      "type" : "object",
      "properties" : {
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          }
        },
        "body" : {
          "type" : "object"
        },
        "statusCode" : {
          "type" : "string",
          "enum" : [ "CONTINUE", "SWITCHING_PROTOCOLS", "PROCESSING", "CHECKPOINT", "OK", "CREATED", "ACCEPTED", "NON_AUTHORITATIVE_INFORMATION", "NO_CONTENT", "RESET_CONTENT", "PARTIAL_CONTENT", "MULTI_STATUS", "ALREADY_REPORTED", "IM_USED", "MULTIPLE_CHOICES", "MOVED_PERMANENTLY", "FOUND", "MOVED_TEMPORARILY", "SEE_OTHER", "NOT_MODIFIED", "USE_PROXY", "TEMPORARY_REDIRECT", "PERMANENT_REDIRECT", "BAD_REQUEST", "UNAUTHORIZED", "PAYMENT_REQUIRED", "FORBIDDEN", "NOT_FOUND", "METHOD_NOT_ALLOWED", "NOT_ACCEPTABLE", "PROXY_AUTHENTICATION_REQUIRED", "REQUEST_TIMEOUT", "CONFLICT", "GONE", "LENGTH_REQUIRED", "PRECONDITION_FAILED", "PAYLOAD_TOO_LARGE", "REQUEST_ENTITY_TOO_LARGE", "URI_TOO_LONG", "REQUEST_URI_TOO_LONG", "UNSUPPORTED_MEDIA_TYPE", "REQUESTED_RANGE_NOT_SATISFIABLE", "EXPECTATION_FAILED", "I_AM_A_TEAPOT", "INSUFFICIENT_SPACE_ON_RESOURCE", "METHOD_FAILURE", "DESTINATION_LOCKED", "UNPROCESSABLE_ENTITY", "LOCKED", "FAILED_DEPENDENCY", "UPGRADE_REQUIRED", "PRECONDITION_REQUIRED", "TOO_MANY_REQUESTS", "REQUEST_HEADER_FIELDS_TOO_LARGE", "UNAVAILABLE_FOR_LEGAL_REASONS", "INTERNAL_SERVER_ERROR", "NOT_IMPLEMENTED", "BAD_GATEWAY", "SERVICE_UNAVAILABLE", "GATEWAY_TIMEOUT", "HTTP_VERSION_NOT_SUPPORTED", "VARIANT_ALSO_NEGOTIATES", "INSUFFICIENT_STORAGE", "LOOP_DETECTED", "BANDWIDTH_LIMIT_EXCEEDED", "NOT_EXTENDED", "NETWORK_AUTHENTICATION_REQUIRED" ]
        },
        "statusCodeValue" : {
          "type" : "integer",
          "format" : "int32"
        }
      }
    },
    "Result" : {
      "type" : "object",
      "properties" : {
        "challengeValue" : {
          "type" : "string"
        },
        "evaluatedResponseFromIDP" : {
          "type" : "string"
        },
        "state" : {
          "type" : "string",
          "enum" : [ "SUCCESS", "FAILED", "PENDING" ]
        },
        "code" : {
          "type" : "string"
        },
        "authType" : {
          "type" : "string"
        }
      }
    },
    "SignatureAlgorithm" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer",
          "format" : "int32"
        }
      }
    },
    "StackTraceElement" : {
      "type" : "object",
      "properties" : {
        "methodName" : {
          "type" : "string"
        },
        "fileName" : {
          "type" : "string"
        },
        "lineNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "className" : {
          "type" : "string"
        },
        "nativeMethod" : {
          "type" : "boolean"
        }
      }
    },
    "Throwable" : {
      "type" : "object",
      "properties" : {
        "cause" : {
          "$ref" : "#/definitions/Throwable"
        },
        "stackTrace" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/StackTraceElement"
          }
        },
        "message" : {
          "type" : "string"
        },
        "localizedMessage" : {
          "type" : "string"
        },
        "suppressed" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Throwable"
          }
        }
      }
    },
    "VerifyAuthenticationChallengeRequest" : {
      "type" : "object",
      "required" : [ "authProfileID", "challengeResponse", "domainID", "sessionID", "tenantID" ],
      "properties" : {
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "sessionID" : {
          "type" : "string"
        },
        "tenantID" : {
          "type" : "string"
        },
        "domainID" : {
          "type" : "string"
        },
        "challengeResponse" : {
          "type" : "string"
        },
        "authProfileID" : {
          "type" : "string"
        },
        "signatoryJID" : {
          "$ref" : "#/definitions/JID"
        },
        "zetaSignature" : {
          "$ref" : "#/definitions/ZetaSignature"
        },
        "payloadVersion" : {
          "type" : "integer",
          "format" : "int32"
        },
        "signed" : {
          "type" : "boolean"
        },
        "signature" : {
          "type" : "string"
        }
      }
    },
    "VerifyAuthenticationChallengeResponse" : {
      "type" : "object",
      "properties" : {
        "encodedPublicKeyCert" : {
          "type" : "string"
        }
      }
    },
    "VerifyChallengePayload" : {
      "type" : "object",
      "required" : [ "authContextID", "authPlanID", "challenge", "factorNumber" ],
      "properties" : {
        "headers" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "string"
          }
        },
        "authPlanID" : {
          "type" : "integer",
          "format" : "int32"
        },
        "factorNumber" : {
          "type" : "integer",
          "format" : "int32"
        },
        "authContextID" : {
          "type" : "string"
        },
        "challenge" : {
          "type" : "string"
        },
        "authType" : {
          "type" : "string"
        },
        "signatoryJID" : {
          "$ref" : "#/definitions/JID"
        },
        "zetaSignature" : {
          "$ref" : "#/definitions/ZetaSignature"
        },
        "payloadVersion" : {
          "type" : "integer",
          "format" : "int32"
        },
        "signed" : {
          "type" : "boolean"
        },
        "signature" : {
          "type" : "string"
        }
      }
    },
    "ZetaSignature" : {
      "type" : "object",
      "properties" : {
        "publicKeyID" : {
          "type" : "string"
        },
        "algoID" : {
          "type" : "integer",
          "format" : "int32"
        },
        "signatureAlgorithm" : {
          "$ref" : "#/definitions/SignatureAlgorithm"
        },
        "signature" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "format" : "byte"
          }
        }
      }
    }
  }
}